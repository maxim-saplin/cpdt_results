(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var n,r,i=s(0),a=s.n(i),c=s(8),o=s.n(c),l=(s(14),s(16),s(2)),d=s(3),u=s(5),m=s(4),h=s(6),p=s(1),f={pageTitle:"CPDT: \u0411\u0430\u0437\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",title:"CPDT. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 SSD/HDD",subTitle:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432",seqWrite:"[\u041f]\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",seqRead:"[\u041f]\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435",randWrite:"[\u041f]\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c (4\u041a\u0411)",randRead:"[\u041f]\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435 (4\u041a\u0411)",memCopy:"[\u041a]\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438",seqWrite_s:"[\u041f]\u043e\u0441\u043b. \u0437\u0430\u043f\u0438\u0441\u044c",seqRead_s:"[\u041f]\u043e\u0441\u043b. \u0447\u0442\u0435\u043d\u0438\u0435",randWrite_s:"[\u041f]\u0440\u043e\u0438\u0437\u0432. \u0437\u0430\u043f\u0438\u0441\u044c (4\u041a\u0411)",randRead_s:"[\u041f]\u0440\u043e\u0438\u0437\u0432. \u0447\u0442\u0435\u043d\u0438\u0435 (4\u041a\u0411)",memCopy_s:"[\u041a]\u043e\u043f. \u043f\u0430\u043c\u044f\u0442\u0438",Android:"[A]ndroid",macOS:"mac[O]S",Windows:"[W]indows",all:"\u0412\u0441\u0435",mbps:"\u041c\u0411/\u0441",gbps:"\u0413\u0411/\u0441"},v={helloWorld:"Bonjour!"},y={pageTitle:"CPDT: Results Database",title:"CPDT SSD/HDD Benchmark",subTitle:"Performance Chart",seqWrite:"[S]equential write",seqRead:"[S]equential read",randWrite:"[R]andom write (4KB)",randRead:"[R]andom read (4KB)",memCopy:"[M]emory copy",seqWrite_s:"[S]eq. write",seqRead_s:"[S]eq. read",randWrite_s:"[R]and. write (4KB)",randRead_s:"[R]and. read (4KB)",memCopy_s:"[M]em. copy",Android:"[A]ndroid",macOS:"mac[O]S",Windows:"[W]indows",all:"All",mbps:"MB/s",gbps:"GB/s",init:function(){var e,t=new URLSearchParams(window.location.search).get("lang"),s="en";(s=t?t.toLocaleLowerCase():navigator.language.toLowerCase()).includes("ru")?e=f:s.includes("fr")&&(e=v),e&&Object.keys(y).forEach(function(t){e[t]&&(y[t]=e[t])})}},k=y,b=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggle=s.toggle.bind(Object(p.a)(Object(p.a)(s))),s.selectAll=s.selectAll.bind(Object(p.a)(Object(p.a)(s))),s.keyPress=s.keyPress.bind(Object(p.a)(Object(p.a)(s))),s}return Object(h.a)(t,e),Object(d.a)(t,[{key:"toggle",value:function(e){return this.props.selectedKey.includes(e)?this.props.selectedKey.length>1?this.props.selectedKey.filter(function(t){return t!==e}):this.props.selectedKey:(this.props.selectedKey.push(e),this.props.selectedKey)}},{key:"selectAll",value:function(){return this.props.items.map(function(e){return e.key})}},{key:"keyPress",value:function(e){if(document.activeElement instanceof HTMLBodyElement&&this.shortcuts.has(e.key)){var t=this.shortcuts.get(e.key);if(Array.isArray(t)){for(var s=t[0].key,n=0;n<t.length;n++)t[n].key===this.props.selectedKey&&n+1<t.length&&(s=t[n+1].key);this.props.itemClick(s)}else Array.isArray(this.props.selectedKey)?this.props.itemClick(this.toggle(t.key)):t.key!==this.props.selectedKey&&this.props.itemClick(t.key)}}},{key:"componentWillUnmount",value:function(){this.keyPressSubscribed&&document.removeEventListener("keypress",this.keyPress)}},{key:"initShortcuts",value:function(){for(var e in this.prevItems=this.props.items,this.shortcuts=new Map,this.prevItems)if(this.prevItems[e].shortcut)if(this.shortcuts.has(this.prevItems[e].shortcut)){var t=this.shortcuts.get(this.prevItems[e].shortcut);if(Array.isArray(t))t.push(this.prevItems[e]);else{var s=[t,this.prevItems[e]];this.shortcuts.set(this.prevItems[e].shortcut,s)}}else this.shortcuts.set(this.prevItems[e].shortcut,this.prevItems[e]);this.shortcuts.size>0?(document.addEventListener("keypress",this.keyPress),this.keyPressSubscribed=!0):this.keyPressSubscribed&&(document.removeEventListener("keypress",this.keyPress),this.keyPressSubscribed=!1)}},{key:"updateShortcuts",value:function(){this.prevItems?this.prevItems!==this.props.items&&this.initShortcuts():this.initShortcuts()}},{key:"render",value:function(){var e=this;return this.updateShortcuts(),this.props.items?a.a.createElement("ul",null,Array.isArray(this.props.selectedKey)?this.props.items.map(function(t){return a.a.createElement("li",{key:t.key,className:e.props.selectedKey.includes(t.key)?"selected":null,onClick:function(){return e.props.itemClick(e.toggle(t.key))}},t.name)}):this.props.items.map(function(t){return a.a.createElement("li",{key:t.key,className:e.props.selectedKey===t.key?"selected":null,onClick:function(){return e.props.itemClick(t.key)}},t.name)}),this.props.selectAll&&a.a.createElement("li",{onClick:function(){return e.props.itemClick(e.selectAll())}},k.all)):null}}]),t}(i.Component),C=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(m.a)(t).call(this,e))).textChanged=s.textChanged.bind(Object(p.a)(Object(p.a)(s))),s.state={text:"",blink:!1},s.textInput=a.a.createRef(),s}return Object(h.a)(t,e),Object(d.a)(t,[{key:"textChanged",value:function(e){this.props.searchChanged&&this.props.searchChanged(e.target.innerText)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"searchBox"},a.a.createElement("span",{contentEditable:"true",ref:this.textInput,onInput:this.textChanged,onFocus:function(){e.setState({blink:!0})},onBlur:function(){e.setState({blink:!1})}}),a.a.createElement("span",{className:this.state.blink?"blink":"",onClick:function(){e.textInput.current.focus()}},!this.state.blink&&"\xa0\xa0","_"),"</")}}]),t}(i.PureComponent),g=/(?<=\[).+?(?=\])/;function O(e){return e.map(function(e){var t={key:e,name:k[e]?k[e]:e,shortcut:null};return function(e){var t=e.name.match(g);t&&1===t.length&&(e.shortcut=t[0].toLowerCase())}(t),t})}var S={getTests:function(){return r||(r=O(this.data.tests)),r},getPlatforms:function(){return n||(n=O(this.data.platforms)),n}},j={getResults:function(e,t,s){var n=this.data.results;if(e&&Array.isArray(e)&&(n=n.filter(function(t){return e.includes(t.platform)})),s&&(n=n.filter(function(e){return e.device.toLowerCase().includes(s.toLowerCase())})),t&&(n.sort(function(e,s){return s[t]-e[t]}),n.length>0))for(var r=n[0][t],i=0;i<n.length;i++)n[i].percent=n[i][t]/r;return n}},w={dictionaries:S,results:j,init:function(){var e=this,t=function(){return new Promise(function(t){fetch("https://raw.githubusercontent.com/maxim-saplin/cpdt_results/master/Results_version.json",{cache:"no-store"}).then(function(e){return e.json()}).then(function(s){r.setItem("cpdt_db_version",s.v),e.version=s.v,t(s.v)})})},s=function(){return new Promise(function(e){fetch("https://raw.githubusercontent.com/maxim-saplin/cpdt_results/master/Results.json",{cache:"no-store"}).then(function(e){return e.json()}).then(function(t){r.setItem("cpdt_db",JSON.stringify(t)),S.data=t,j.data=t,e(t)})})},n=null,r=window.localStorage,i=r.getItem("cpdt_db");if(i){try{i=JSON.parse(i)}catch(c){}i.results||(i=null)}var a=r.getItem("cpdt_db_version");return i?n=new Promise(function(e){t().then(function(t){t!==a?s().then(function(t){return e(t)}):(S.data=i,j.data=i,e(i))})}):(t(),n=s()),n},initFake:function(){S.data={results:[{id:"1",device:"Xiaomi Mi8 SE",platfrom:"Android",deviceDetail:"Snapdragon 710, 64GB",deviceComment:"",deviceYear:"2018",dateTested:"23.10.2018",seqWrite:"110",seqRead:"299",randWrite:"18,9",randRead:"9,5",memCopy:"4,65"},{id:"2",device:"Samsung Galaxy S9",platfrom:"Android",deviceDetail:"Exynos 9810, 64Gb",deviceComment:"",deviceYear:"2018",dateTested:"04.10.2018",seqWrite:"118",seqRead:"654",randWrite:"1,72",randRead:"14,43",memCopy:"12,7"},{id:"3",device:"Essential Phone PH-1",platfrom:"Android",deviceDetail:"Snapdragon 835, 128GB",deviceComment:"",deviceYear:"2017",dateTested:"30.09.2018",seqWrite:"125",seqRead:"440",randWrite:"4,3",randRead:"17,4",memCopy:"6,6"},{id:"4",device:'15" MacBook Pro',platfrom:"macOS",deviceDetail:"macOS, APFS",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"1331,2",seqRead:"2088,96",randWrite:"75",randRead:"38",memCopy:"10,3"},{id:"5",device:'15" MacBook Pro',platfrom:"macOS",deviceDetail:"macOS, NTFS partition",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"730",seqRead:"694",randWrite:"27",randRead:"8",memCopy:"10,3"},{id:"6",device:'15" MacBook Pro',platfrom:"Windows",deviceDetail:"Windows 10 Bootcamp, NTFS",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"343",seqRead:"1617,92",randWrite:"0,5625",randRead:"11,01",memCopy:"8,5"},{id:"7",device:'15" MacBook Pro',platfrom:"Windows",deviceDetail:"Windows 10, VMWare Fusion, NTFS",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"850",seqRead:"2457,6",randWrite:"12",randRead:"29",memCopy:"5,8"}],platforms:["Android","macOS","Windows"],tests:["seqWrite","seqRead","randWrite","randRead","memCopy"]},j.data=S.data}},P=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return w.results.getResults(this.props.selectedPlatforms,this.props.selectedTest,this.props.device).map(function(t){return a.a.createElement("div",{className:"item"},a.a.createElement("span",{className:"leftColumn"},t.device,a.a.createElement("br",null),a.a.createElement("span",{className:"greyed"},t.deviceYear,", ",t.deviceDetail)),a.a.createElement("span",{className:"rightColumn"},a.a.createElement("span",{style:{width:80*t.percent+"%"}},t[e.props.selectedTest]," ","memCopy"===e.props.selectedTest?k.gbps:k.mbps)))})}}]),t}(i.Component),R=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(m.a)(t).call(this,e))).platformClick=s.platformClick.bind(Object(p.a)(Object(p.a)(s))),s.testClick=s.testClick.bind(Object(p.a)(Object(p.a)(s))),s.searchChanged=s.searchChanged.bind(Object(p.a)(Object(p.a)(s))),s.state={selectedTest:w.dictionaries.getTests()[0].key,selectedPlatforms:w.dictionaries.getPlatforms().map(function(e){return e.key}),device:""},s}return Object(h.a)(t,e),Object(d.a)(t,[{key:"testClick",value:function(e){this.setState({selectedTest:e})}},{key:"platformClick",value:function(e){this.setState({selectedPlatforms:e})}},{key:"searchChanged",value:function(e){this.setState({device:e})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,k.title,": "),a.a.createElement("h2",null,k.subTitle),a.a.createElement(b,{itemClick:this.testClick,selectedKey:this.state.selectedTest,items:w.dictionaries.getTests()}),a.a.createElement(b,{itemClick:this.platformClick,selectedKey:this.state.selectedPlatforms,items:w.dictionaries.getPlatforms(),selectAll:!0}),a.a.createElement(C,{searchChanged:this.searchChanged}),a.a.createElement("br",null),a.a.createElement(P,{selectedTest:this.state.selectedTest,selectedPlatforms:this.state.selectedPlatforms,device:this.state.device}))}}]),t}(i.Component);"white"!==new URLSearchParams(window.location.search).get("theme")&&(document.body.className="dark"),k.init(),document.title=k.pageTitle,w.init().then(function(){return o.a.render(a.a.createElement(R,null),document.getElementById("root"))})},9:function(e,t,s){e.exports=s(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.13133f65.chunk.js.map