(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,s){e.exports=s(347)},343:function(e,t,s){},345:function(e,t,s){},347:function(e,t,s){"use strict";s.r(t);s(135),s(337),s(338);var n,r,a=s(1),i=s.n(a),c=s(71),o=s.n(c),l=(s(343),s(345),s(34)),d=s(35),u=s(37),h=s(36),m=s(38),p=s(6),f={pageTitle:"CPDT: \u0411\u0430\u0437\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",title:"CPDT. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 SSD/HDD",subTitle:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432",seqWrite:"[\u041f]\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",seqRead:"[\u041f]\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435",randWrite:"[\u041f]\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c (4\u041a\u0411)",randRead:"[\u041f]\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435 (4\u041a\u0411)",memCopy:"[\u041a]\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438",seqWrite_s:"[\u041f]\u043e\u0441\u043b. \u0437\u0430\u043f\u0438\u0441\u044c",seqRead_s:"[\u041f]\u043e\u0441\u043b. \u0447\u0442\u0435\u043d\u0438\u0435",randWrite_s:"[\u041f]\u0440\u043e\u0438\u0437\u0432. \u0437\u0430\u043f\u0438\u0441\u044c (4\u041a\u0411)",randRead_s:"[\u041f]\u0440\u043e\u0438\u0437\u0432. \u0447\u0442\u0435\u043d\u0438\u0435 (4\u041a\u0411)",memCopy_s:"[\u041a]\u043e\u043f. \u043f\u0430\u043c\u044f\u0442\u0438",seqWrite_f:"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",seqRead_f:"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435",randWrite_f:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c (4\u041a\u0411)",randRead_f:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435 (4\u041a\u0411)",memCopy_f:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438",throughput:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u043d\u0430\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c",nothingToShow:"Nothing to show",Android:"[A]ndroid",macOS:"mac[O]S",Windows:"[W]indows",all:"\u0412\u0441\u0435",mbps:"\u041c\u0411/\u0441",gbps:"\u0413\u0411/\u0441"},y={helloWorld:"Bonjour!"},v={pageTitle:"CPDT: Results Database",title:"CPDT SSD/HDD Benchmark",subTitle:"Performance Chart",seqWrite:"[S]equential write",seqRead:"[S]equential read",randWrite:"[R]andom write (4KB)",randRead:"[R]andom read (4KB)",memCopy:"[M]emory copy",seqWrite_s:"[S]eq. write",seqRead_s:"[S]eq. read",randWrite_s:"[R]and. write (4KB)",randRead_s:"[R]and. read (4KB)",memCopy_s:"[M]em. copy",seqWrite_f:"Sequential write",seqRead_f:"Sequential read",randWrite_f:"Random write (4KB)",randRead_f:"Random read (4KB)",memCopy_f:"Memory copy",throughput:"Throughput",nothingToShow:"Nothing to show",Android:"[A]ndroid",macOS:"mac[O]S",Windows:"[W]indows",all:"All",mbps:"MB/s",gbps:"GB/s",init:function(){var e,t=new URLSearchParams(window.location.search).get("lang"),s="en";(s=t?t.toLocaleLowerCase():navigator.language.toLowerCase()).includes("ru")?e=f:s.includes("fr")&&(e=y),e&&Object.keys(v).forEach(function(t){e[t]&&(v[t]=e[t])})}},b=v,k=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(h.a)(t).call(this,e))).toggle=s.toggle.bind(Object(p.a)(Object(p.a)(s))),s.selectAll=s.selectAll.bind(Object(p.a)(Object(p.a)(s))),s.onKeyPress=s.onKeyPress.bind(Object(p.a)(Object(p.a)(s))),s}return Object(m.a)(t,e),Object(d.a)(t,[{key:"toggle",value:function(e){return this.props.selectedKey.includes(e)?this.props.selectedKey.length>1?this.props.selectedKey.filter(function(t){return t!==e}):this.props.selectedKey:(this.props.selectedKey.push(e),this.props.selectedKey)}},{key:"selectAll",value:function(){return this.props.items.map(function(e){return e.key})}},{key:"onKeyPress",value:function(e){if(document.activeElement instanceof HTMLBodyElement&&this.shortcuts.has(e.key)){var t=this.shortcuts.get(e.key);if(Array.isArray(t)){for(var s=t[0].key,n=0;n<t.length;n++)t[n].key===this.props.selectedKey&&n+1<t.length&&(s=t[n+1].key);this.props.itemClick(s)}else Array.isArray(this.props.selectedKey)?this.props.itemClick(this.toggle(t.key)):t.key!==this.props.selectedKey&&this.props.itemClick(t.key)}}},{key:"componentWillUnmount",value:function(){this.keyPressSubscribed&&document.removeEventListener("keypress",this.onKeyPress)}},{key:"initShortcuts",value:function(){for(var e in this.prevItems=this.props.items,this.shortcuts=new Map,this.prevItems)if(this.prevItems[e].shortcut)if(this.shortcuts.has(this.prevItems[e].shortcut)){var t=this.shortcuts.get(this.prevItems[e].shortcut);if(Array.isArray(t))t.push(this.prevItems[e]);else{var s=[t,this.prevItems[e]];this.shortcuts.set(this.prevItems[e].shortcut,s)}}else this.shortcuts.set(this.prevItems[e].shortcut,this.prevItems[e]);this.shortcuts.size>0?(document.addEventListener("keypress",this.onKeyPress),this.keyPressSubscribed=!0):this.keyPressSubscribed&&(document.removeEventListener("keypress",this.onKeyPress),this.keyPressSubscribed=!1)}},{key:"updateShortcuts",value:function(){this.prevItems?this.prevItems!==this.props.items&&this.initShortcuts():this.initShortcuts()}},{key:"render",value:function(){var e=this;return this.updateShortcuts(),this.props.items?i.a.createElement("ul",null,Array.isArray(this.props.selectedKey)?this.props.items.map(function(t){return i.a.createElement("li",{key:t.key,className:e.props.selectedKey.includes(t.key)?"selected":null,onClick:function(){return e.props.itemClick(e.toggle(t.key))}},t.name)}):this.props.items.map(function(t){return i.a.createElement("li",{key:t.key,className:e.props.selectedKey===t.key?"selected":null,onClick:function(){return e.props.itemClick(t.key)}},t.name)}),this.props.selectAll&&i.a.createElement("li",{onClick:function(){return e.props.itemClick(e.selectAll())}},b.all)):null}}]),t}(a.Component),g=/[^\[]+(?=\])/;function R(e){return e.map(function(e){var t={key:e,name:b[e]?b[e]:e,shortcut:null};return function(e){var t=e.name.match(g);t&&1===t.length&&(e.shortcut=t[0].toLowerCase())}(t),t})}var C={getTests:function(){return r||(r=R(this.data.tests)),r},getPlatforms:function(){return n||(n=R(this.data.platforms)),n}},S={getResults:function(e,t,s,n){var r=this.data.results;if(e&&Array.isArray(e)&&(r=r.filter(function(t){return e.includes(t.platform)})),s&&(s=s.trim().toLowerCase())&&(r=r.filter(function(e){return e.device.toLowerCase().includes(s)})),n&&n.length>0&&(r=r.filter(function(e){return!n.includes(e.id)})),t&&(r.sort(function(e,s){return s[t]-e[t]}),r.length>0))for(var a=r[0][t],i=0;i<r.length;i++)r[i].percent=r[i][t]/a;return r.length>0?this.lastResultId=r[0].id:this.lastResultId=null,r},getResultById:function(e){return e<0||e>this.data.results.length?null:this.data.results[e-1]},getLastResultId:function(){return this.lastResultId?this.lastResultId:null},lastResultId:null},I=S,P="https://raw.githubusercontent.com/maxim-saplin/cpdt_results/master/Results.json",O={dictionaries:C,results:I,init:function(e){var t=this,s=function(){return new Promise(function(e){fetch("https://raw.githubusercontent.com/maxim-saplin/cpdt_results/master/Results_version.json",{cache:"no-store"}).then(function(e){return e.json()}).then(function(s){a.setItem("cpdt_db_version",s.v),t.version=s.v,e(s.v)})})},n=function(){return new Promise(function(e){fetch(P,{cache:"no-store"}).then(function(e){return e.json()}).then(function(t){a.setItem("cpdt_db",JSON.stringify(t)),C.data=t,I.data=t,e(t)})})},r=null,a=window.localStorage;e&&(P="https://raw.githubusercontent.com/maxim-saplin/cpdt_results/master/Results_test.json",a.setItem("cpdt_db_version","test"));var i=a.getItem("cpdt_db");if(i){try{i=JSON.parse(i)}catch(o){}i.results||(i=null)}var c=a.getItem("cpdt_db_version");return i?r=new Promise(function(t){s().then(function(s){e&&a.setItem("cpdt_db_version","test"),s!==c?n().then(function(e){return t(e)}):(C.data=i,I.data=i,t(i))})}):(s(),r=n()),r},initFake:function(){C.data={results:[{id:"1",device:"Xiaomi Mi8 SE",platfrom:"Android",deviceDetail:"Snapdragon 710, 64GB",deviceComment:"",deviceYear:"2018",dateTested:"23.10.2018",seqWrite:"110",seqRead:"299",randWrite:"18,9",randRead:"9,5",memCopy:"4,65"},{id:"2",device:"Samsung Galaxy S9",platfrom:"Android",deviceDetail:"Exynos 9810, 64Gb",deviceComment:"",deviceYear:"2018",dateTested:"04.10.2018",seqWrite:"118",seqRead:"654",randWrite:"1,72",randRead:"14,43",memCopy:"12,7"},{id:"3",device:"Essential Phone PH-1",platfrom:"Android",deviceDetail:"Snapdragon 835, 128GB",deviceComment:"",deviceYear:"2017",dateTested:"30.09.2018",seqWrite:"125",seqRead:"440",randWrite:"4,3",randRead:"17,4",memCopy:"6,6"},{id:"4",device:'15" MacBook Pro',platfrom:"macOS",deviceDetail:"macOS, APFS",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"1331,2",seqRead:"2088,96",randWrite:"75",randRead:"38",memCopy:"10,3"},{id:"5",device:'15" MacBook Pro',platfrom:"macOS",deviceDetail:"macOS, NTFS partition",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"730",seqRead:"694",randWrite:"27",randRead:"8",memCopy:"10,3"},{id:"6",device:'15" MacBook Pro',platfrom:"Windows",deviceDetail:"Windows 10 Bootcamp, NTFS",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"343",seqRead:"1617,92",randWrite:"0,5625",randRead:"11,01",memCopy:"8,5"},{id:"7",device:'15" MacBook Pro',platfrom:"Windows",deviceDetail:"Windows 10, VMWare Fusion, NTFS",deviceComment:"",deviceYear:"2018",dateTested:"03.10.2018",seqWrite:"850",seqRead:"2457,6",randWrite:"12",randRead:"29",memCopy:"5,8"}],platforms:["Android","macOS","Windows"],tests:["seqWrite","seqRead","randWrite","randRead","memCopy"]},I.data=C.data}},w=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(h.a)(t).call(this,e))).textChanged=s.textChanged.bind(Object(p.a)(Object(p.a)(s))),s.onKeyPress=s.onKeyPress.bind(Object(p.a)(Object(p.a)(s))),s.state={extraSpaces:!0,blink:!1,showHitn:!1},s.textInput=i.a.createRef(),s}return Object(m.a)(t,e),Object(d.a)(t,[{key:"textChanged",value:function(e){this.enterPressed&&(e.target.innerText=""),this.props.searchChanged&&this.props.searchChanged(e.target.innerText),e.target.innerText&&this.state.extraSpaces?this.setState({extraSpaces:!1}):e.target.innerText||this.state.extraSpaces||this.setState({extraSpaces:!0})}},{key:"onKeyPress",value:function(e){if("Enter"===e.key||13===e.charCode){this.enterPressed=!0;var t=O.results.getLastResultId();e.target.innerText&&this.props.enterPressed&&t&&this.props.enterPressed(t)}else this.enterPressed=!1}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"searchBox"},i.a.createElement("span",{contentEditable:"true",ref:this.textInput,onInput:this.textChanged,onKeyPress:this.onKeyPress,onFocus:function(){e.setState({blink:!0})},onBlur:function(){e.setState({blink:!1})}}),i.a.createElement("span",{className:this.state.blink?"blink":"",onClick:function(){e.textInput.current.focus()}},!this.state.blink&&this.state.extraSpaces&&"\xa0\xa0\xa0\xa0","_"),"</"),i.a.createElement("span",{className:!this.state.extraSpaces&&this.state.blink?"searchBoxHint visible":"searchBoxHint"},'- hit "Enter" to fix the topmost result'))}}]),t}(a.PureComponent),E=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(h.a)(t).call(this,e))).onKeyUp=s.onKeyUp.bind(Object(p.a)(Object(p.a)(s))),s}return Object(m.a)(t,e),Object(d.a)(t,[{key:"getAllResults",value:function(e){for(var t=b.throughput+"\n",s=O.dictionaries.getTests(),n=0;n<s.length;n++)t+=b[s[n].key+"_f"]+": "+e[s[n].key]+" ",t+="memCopy"===s[n].key?b.gbps:b.mbps,n!==s.length-1&&(t+="\n");return t}},{key:"componentWillUnmount",value:function(){this.keyPressSubscribed&&document.removeEventListener("keyup",this.onKeyUp)}},{key:"onKeyUp",value:function(e){"Escape"!==e.key&&27!==e.keyCode||!this.deletableId||this.props.selectedIdRemoved(this.deletableId)}},{key:"render",value:function(){var e=this,t=O.results.getResults(this.props.selectedPlatforms,this.props.selectedTest,this.props.device,this.props.selectedResultIds),s=-1;if(this.deletableId=null,this.props.selectedResultIds&&this.props.selectedResultIds.length>0){var n=this.props.selectedResultIds.map(function(e){return O.results.getResultById(e)});t=n.concat(t),s=n.length,this.deletableId=n[s-1].id}return!this.deletableId&&this.keyPressSubscribed?(document.removeEventListener("keyup",this.onKeyUp),this.keyPressSubscribed=!1):this.deletableId&&!this.keyPressSubscribed&&(document.addEventListener("keyup",this.onKeyUp),this.keyPressSubscribed=!0),t&&t.length>0?t.map(function(t){return i.a.createElement("div",{key:t.id,className:s-- >0?"item selected":"item",title:e.getAllResults(t)},i.a.createElement("span",{className:"leftColumn"},t.device,i.a.createElement("br",null),i.a.createElement("span",{className:"greyed"},t.deviceYear,", ",t.deviceDetail)),i.a.createElement("span",{className:"rightColumn"},i.a.createElement("span",{style:{width:80*t.percent+"%"}},t[e.props.selectedTest]," ","memCopy"===e.props.selectedTest?b.gbps:b.mbps),0===s&&i.a.createElement("button",{onClick:function(){return e.props.selectedIdRemoved(t.id)}},"[Esc]")))}):i.a.createElement("div",{className:"nothing"},b.nothingToShow)}}]),t}(a.Component),j=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(h.a)(t).call(this,e))).platformClick=s.platformClick.bind(Object(p.a)(Object(p.a)(s))),s.testClick=s.testClick.bind(Object(p.a)(Object(p.a)(s))),s.searchChanged=s.searchChanged.bind(Object(p.a)(Object(p.a)(s))),s.searchEnterPressed=s.searchEnterPressed.bind(Object(p.a)(Object(p.a)(s))),s.selectedIdRemoved=s.selectedIdRemoved.bind(Object(p.a)(Object(p.a)(s))),s.state={selectedTest:O.dictionaries.getTests()[0].key,selectedPlatforms:O.dictionaries.getPlatforms().map(function(e){return e.key}),selectedResultIds:[],device:""},s}return Object(m.a)(t,e),Object(d.a)(t,[{key:"testClick",value:function(e){this.setState({selectedTest:e})}},{key:"platformClick",value:function(e){this.setState({selectedPlatforms:e})}},{key:"searchChanged",value:function(e){this.setState({device:e})}},{key:"searchEnterPressed",value:function(e){var t=this.state.selectedResultIds;t.push(e),this.setState({selectedResultIds:t,device:""})}},{key:"selectedIdRemoved",value:function(e){var t=this.state.selectedResultIds;t=t.filter(function(t){return t!==e}),this.setState({selectedResultIds:t})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,b.title,": "),i.a.createElement("h2",null,b.subTitle),i.a.createElement(k,{itemClick:this.testClick,selectedKey:this.state.selectedTest,items:O.dictionaries.getTests()}),i.a.createElement(k,{itemClick:this.platformClick,selectedKey:this.state.selectedPlatforms,items:O.dictionaries.getPlatforms(),selectAll:!0}),i.a.createElement(w,{searchChanged:this.searchChanged,enterPressed:this.searchEnterPressed}),i.a.createElement("br",null),i.a.createElement(E,{selectedTest:this.state.selectedTest,selectedPlatforms:this.state.selectedPlatforms,selectedResultIds:this.state.selectedResultIds,selectedIdRemoved:this.selectedIdRemoved,device:this.state.device}))}}]),t}(a.Component),T=new URLSearchParams(window.location.search);"white"!==T.get("theme")&&(document.body.className="dark");var W=!1,K=!1,_=T.get("benchmark"),q=T.get("testdb");"true"===_?(W=!0,K=!0):"true"===q&&(K=!0),b.init(),document.title=b.pageTitle,O.init(K).then(function(){o.a.render(i.a.createElement(j,null),document.getElementById("root")),W&&(document.title="Running benchmark...",function(){for(var e=performance.now(),t=0;t<5;t++)o.a.render(i.a.createElement("span",null,"Swap"),document.getElementById("root")),o.a.render(i.a.createElement(j,null),document.getElementById("root"));var s="Rendering page took on average: "+((performance.now()-e)/5).toFixed(2)+"ms";document.title="Becnchmark completed. "+s,alert(s)}())})}},[[134,2,1]]]);
//# sourceMappingURL=main.5eb7638b.chunk.js.map